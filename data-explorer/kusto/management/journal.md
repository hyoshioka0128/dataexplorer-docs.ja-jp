---
title: ジャーナル管理 - Azure データ エクスプローラー |マイクロソフトドキュメント
description: この記事では、Azure データ エクスプローラーでのジャーナル管理について説明します。
services: data-explorer
author: orspod
ms.author: orspodek
ms.reviewer: rkarlin
ms.service: data-explorer
ms.topic: reference
ms.date: 08/19/2019
ms.openlocfilehash: bbe5ab4bda42fdfd9382c7e71da85789c13f6987
ms.sourcegitcommit: 47a002b7032a05ef67c4e5e12de7720062645e9e
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/15/2020
ms.locfileid: "81520793"
---
# <a name="journal-management"></a>ジャーナル管理

 `Journal`Kusto データベースで実行されたメタデータ操作に関する情報が含まれています。

メタデータ操作は、システムによって実行される制御コマンドまたはシステムによって実行される内部制御コマンド (保持によるドロップ・エクステントなど) の結果である可能性があります。

**注:**

- 新しいエクステントの*追加*を含むメタデータ操作`.ingest` `.append`( `.move` 、 など ) には、 に`Journal`一致するイベントが表示されません。
- 結果セットの列のデータと、それが提示される形式は、契約*上のデータではない*ため、それらに依存することはお勧め*しません*。

|Event        |EventTimestamp     |データベース  |EntityName|更新されたエンティティ名|エンティティバージョン|エンティティコンテナ名|
|-------------|-------------------|----------|----------|-----------------|-------------|-------------------|
|テーブルの作成 |2017-01-05 14:25:07|内部Db|マイテーブル1  |マイテーブル1         |v7.0         |内部Db         |
|テーブルの名前の変更 |2017-01-13 10:30:01|内部Db|マイテーブル1  |マイテーブル2         |v8.0         |内部Db         |  

|元のエンティティ状態|更新されたエンティティ状態                                              |コマンドを変更します。                                                                                                          |プリンシパル            |
|-------------------|----------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------|---------------------|
|.                  |名前: MyTable1, 属性: 名前='[MyTable1]。[col1]'、タイプ='I32'|作成テーブル MyTable1 (col1:int)                                                                                      |imike@fabrikam.com
|.                  |db プロパティ (長すぎてここに表示できません)               |.データベースの作成 TestDBhttps://imfbkm.blob.core.windows.net/md永続化 (@"https://imfbkm.blob.core.windows.net/data", @" ")|AAD アプリ id=76263cdb-abcd-545644e9c404
|名前: MyTable1, 属性: 名前='[MyTable1]。[col1]'、タイプ='I32'|名前: MyTable2, 属性: 名前='[MyTable1]。[col1]'、タイプ='I32'|名前の変更テーブル MyTable1 から MyTable2 に変更|rdmik@fabrikam.com


イベント: メタデータ イベント名。

イベントタイムスタンプ - イベントタイムスタンプ。

データベース - このデータベースのメタデータは、イベントの後に変更されました。

エンティティ名 - エンティティ名、操作が実行された、変更の前に。

更新されたエンティティ名 - 変更後の新しいエンティティ名。

EntityVersion - 変更後の新しいメタデータ バージョン (db/cluster)。

エンティティコンテナ名 - エンティティコンテナ名(つまり、エンティティ=列、コンテナ=テーブル)。

元のエンティティ状態 : 変更前のエンティティ (エンティティ プロパティ) の状態。

更新されたエンティティ状態 - 変更後の新しい状態。

ChangeCommand - メタデータの変更をトリガーした実行されたコントロールコマンド。

プリンシパル - コントロール コマンドを実行したプリンシパル (ユーザー/アプリ)。
                    
## <a name="show-journal"></a>.ジャーナルを表示

この`.show journal`コマンドは、ユーザーが管理者アクセス権を持つデータベース/クラスター上のメタデータ変更のリストを返します。

**アクセス許可**

すべてのユーザー (クラスター アクセス) は、コマンドを実行できます。 

返される結果は次のとおりです。 
1. コマンドを実行しているユーザーのすべてのジャーナル項目。 
2. コマンドを実行しているユーザーが管理者アクセス権を持つデータベースのすべてのジャーナル項目。 
3. コマンドを実行するユーザーがクラスター管理者である場合は、すべてのクラスター・ジャーナル項目。 

## <a name="show-database-databasename-journal"></a>.show*データベース データベース名仕訳帳* 

`.show` `database` `journal` *DatabaseName*コマンドは、特定のデータベース メタデータの変更に関するジャーナルを返します。

**アクセス許可**

すべてのユーザー (クラスター アクセス) は、コマンドを実行できます。 返される結果は次のとおりです。 
1. コマンドを実行するユーザーが*DatabaseName*のデータベース管理者である場合は、データベース*データベース名*のすべてのジャーナル項目。 
2. それ以外の場合は、データベース*DatabaseName*およびコマンドを実行しているユーザーのすべてのジャーナル項目。 

